<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Sorry I'm Busy</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: black;
  font-family: Arial, sans-serif;
}

#game {
  width: 100vw;
  height: 100vh;
  background-size: cover;
  background-position: center;
  position: relative;
}

/* ì¢Œìš° ì„ íƒ ì˜ì—­ */
.choice-zone {
  position: absolute;
  top: 0;
  width: 50%;
  height: 100%;
}

#leftZone { left: 0; }
#rightZone { right: 0; }

/* ë””ë²„ê·¸ ì ìˆ˜ (ë‚˜ì¤‘ì— ì§€ì›Œë„ ë¨) */
#score {
  position: absolute;
  top: 10px;
  left: 10px;
  color: white;
  font-size: 16px;
  opacity: 0.7;
}
</style>
</head>

<body>

<div id="game">
  <div id="leftZone" class="choice-zone"></div>
  <div id="rightZone" class="choice-zone"></div>
  <div id="score"></div>
</div>

<script>
/* ===============================
   ğŸ¬ ì´ë¯¸ì§€ ìˆœì„œ (ë£¨íŠ¸ ê²½ë¡œ)
================================ */
const scenes = [
  "Email Before Leaving Work.png",
  "Message on the Street.png",
  "Subway Entrance.png",
  "On the Subway Seat.png",
  "Before Riding the Bike.png",
  "Riding the Bike, Nice View.png",
  "Junior Coworker.png",
  "Near Home Street.png",
  "In Front of Your Home.png",
  "LAST.png"
];

/* ===============================
   ğŸ§  ì ìˆ˜ ì‹œìŠ¤í…œ
================================ */
let currentScene = 0;
let score = 0;
let randomGender = Math.random() < 0.5 ? "male" : "female";

/* ===============================
   ğŸ¥ ì¥ë©´ í‘œì‹œ
================================ */
const game = document.getElementById("game");
const scoreText = document.getElementById("score");

function showScene() {
  if (currentScene >= scenes.length) {
    calculateEnding();
    return;
  }

  game.style.backgroundImage = `url("${scenes[currentScene]}")`;
  scoreText.textContent = "Score: " + score;
}

/* ===============================
   ğŸ–± ì„ íƒ ì²˜ë¦¬
================================ */
document.getElementById("leftZone").onclick = () => {
  score += 1; // ì‚¬ëŒ ì„ íƒ
  nextScene();
};

document.getElementById("rightZone").onclick = () => {
  score -= 1; // ì¼ ì„ íƒ
  nextScene();
};

function nextScene() {
  currentScene++;
  showScene();
}

/* ===============================
   ğŸ”¥ ì—”ë”© ê³„ì‚° (3~5ì´ˆ ìƒê° ì—°ì¶œ)
================================ */
function calculateEnding() {
  scoreText.textContent = "Calculating...";
  
  setTimeout(() => {
    showEnding();
  }, 3000); // 3ì´ˆ ê³„ì‚° ì—°ì¶œ
}

/* ===============================
   ğŸ§¾ ì—”ë”© ë¶„ê¸°
================================ */
function showEnding() {
  let endingImage = "";

  if (score >= 3) {
    // fresh
    endingImage = randomGender === "male" ? "fresh male.png" : "fresh_female.png";
  } 
  else if (score >= 0) {
    // burning
    endingImage = randomGender === "male" ? "burning male.png" : "burnin female.png";
  } 
  else {
    // burned
    endingImage = randomGender === "male" ? "burned male.png" : "burned female.png";
  }

  game.style.backgroundImage = `url("${endingImage}")`;
  scoreText.textContent = "";
}

/* ì‹œì‘ */
showScene();
</script>

</body>
</html>
