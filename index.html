<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sorry I'm Busy</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: black;
  font-family: Arial, sans-serif;
}

#game {
  width: 100vw;
  height: 100vh;
  background-size: cover;
  background-position: center;
  position: relative;
}

.choice-zone {
  position: absolute;
  top: 0;
  width: 50%;
  height: 100%;
}

#leftZone { left: 0; }
#rightZone { right: 0; }

#score {
  position: absolute;
  top: 10px;
  left: 10px;
  color: white;
  font-size: 16px;
  opacity: 0.7;
}

#loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 20px;
  display: none;
}
</style>
</head>

<body>

<div id="game">
  <div id="score">Score: 2</div>
  <div id="loading">calculating...</div>
  <div id="leftZone" class="choice-zone"></div>
  <div id="rightZone" class="choice-zone"></div>
</div>

<script>
let score = 2;
let currentScene = 0;

const scenes = [
  "images/Email Before Leaving Work.png",
  "images/Message on the Street.png",
  "images/Subway Entrance.png",
  "images/On the Subway Seat.png",
  "images/Before Riding the Bike.png",
  "images/Riding the Bike, Nice View.png",
  "images/Junior Coworker.png",
  "images/Near Home Street.png",
  "images/In Front of Your Home.png",
  "images/LAST.png"
];

const game = document.getElementById("game");
const scoreText = document.getElementById("score");
const loading = document.getElementById("loading");

function showScene() {
  game.style.backgroundImage = `url("${scenes[currentScene]}")`;
}

function updateScore(delta) {
  score += delta;
  scoreText.innerText = "Score: " + score;
}

function nextScene() {
  currentScene++;
  if (currentScene >= scenes.length) {
    showEnding();
  } else {
    showScene();
  }
}

function showEnding() {
  loading.style.display = "block";

  setTimeout(() => {
    loading.style.display = "none";

    let endingType = "";
    if (score <= 6) endingType = "burned";
    else if (score <= 11) endingType = "burning";
    else endingType = "fresh";

    const gender = Math.random() < 0.5 ? "male" : "female";
    const endingImage = `images/${endingType} ${gender}.png`;

    game.style.backgroundImage = `url("${endingImage}")`;
  }, 4000);
}

document.getElementById("leftZone").addEventListener("click", () => {
  const delta = Math.random() < 0.5 ? -1 : +1;
  updateScore(delta);
  nextScene();
});

document.getElementById("rightZone").addEventListener("click", () => {
  const delta = Math.random() < 0.5 ? -1 : +1;
  updateScore(delta);
  nextScene();
});

showScene();
</script>

</body>
</html>
