<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sorry I'm Busy</title>
<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:Helvetica, Arial, sans-serif;
  text-align:center;
}
img{
  width:100vw;
  height:100vh;
  object-fit:cover;
}
.choices{
  position:absolute;
  bottom:40px;
  width:100%;
  display:flex;
  justify-content:space-between;
  padding:0 40px;
  box-sizing:border-box;
}
button{
  background:rgba(0,0,0,0.6);
  border:2px solid white;
  color:white;
  padding:15px 25px;
  font-size:18px;
  cursor:pointer;
}
</style>
</head>
<body>

<img id="scene" src="SubwayEntrance.png">

<div class="choices">
  <button onclick="choose('checkEmail')">Check Email</button>
  <button onclick="choose('ignoreEmail')">Ignore Email</button>
</div>

<script>
let score = 10;

function updateScene(imgName, leftText, rightText, leftAction, rightAction){
  document.getElementById("scene").src = imgName;
  const buttons = document.querySelectorAll("button");
  buttons[0].innerText = leftText;
  buttons[1].innerText = rightText;
  buttons[0].onclick = () => choose(leftAction);
  buttons[1].onclick = () => choose(rightAction);
}

function choose(action){

  if(action === "checkEmail"){
    score -= 1;
    updateScene("OnTheSubwaySeat.png",
      "Check Phone","Do Not Check Phone",
      "phoneCheck","phoneIgnore");
  }

  else if(action === "ignoreEmail"){
    updateScene("SubwayEntrance.png",
      "Wait","Bike",
      "waitSubway","bikeRoute");
  }

  else if(action === "phoneCheck"){
    score -= 1;
    updateScene("NearHomeStreet.png",
      "Check Last Message","Lock Phone",
      "lastCheck","lockPhone");
  }

  else if(action === "phoneIgnore"){
    updateScene("NearHomeStreet.png",
      "Check Last Message","Lock Phone",
      "lastCheck","lockPhone");
  }

  else if(action === "waitSubway"){
    updateScene("OnTheSubwaySeat.png",
      "Check Phone","Do Not Check Phone",
      "phoneCheck","phoneIgnore");
  }

  else if(action === "bikeRoute"){
    score += 1;
    updateScene("RidingTheBikeNiceView.png",
      "Listen to Music","Listen to City",
      "music","city");
  }

  else if(action === "music"){
    score += 1;
    updateScene("NearHomeStreet.png",
      "Check Last Message","Lock Phone",
      "lastCheck","lockPhone");
  }

  else if(action === "city"){
    score += 2;
    updateScene("NearHomeStreet.png",
      "Check Last Message","Lock Phone",
      "lastCheck","lockPhone");
  }

  else if(action === "lastCheck"){
    score -= 2;
    ending();
  }

  else if(action === "lockPhone"){
    score += 2;
    ending();
  }
}

function ending(){
  if(score <= 6){
    document.getElementById("scene").src = "burnedmale.png";
  }
  else if(score <= 11){
    document.getElementById("scene").src = "burningmale.png";
  }
  else{
    document.getElementById("scene").src = "freshmale.png";
  }
  document.querySelector(".choices").style.display = "none";
}
</script>

</body>
</html>
